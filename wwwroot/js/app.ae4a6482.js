(function(t){function e(e){for(var a,n,r=e[0],l=e[1],c=e[2],d=0,p=[];d<r.length;d++)n=r[d],o[n]&&p.push(o[n][0]),o[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,r=1;r<s.length;r++){var l=s[r];0!==o[l]&&(a=!1)}a&&(i.splice(e--,1),t=n(n.s=s[0]))}return t}var a={},o={app:0},i=[];function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=a,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(s,a,function(e){return t[e]}.bind(null,a));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var a=s("c21b"),o=s.n(a);o.a},"0399":function(t,e,s){},"2b56":function(t,e,s){"use strict";var a=s("3ec9"),o=s.n(a);o.a},"3ec9":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},i=[],n=(s("034f"),s("2877")),r={},l=Object(n["a"])(r,o,i,!1,null,null,null);l.options.__file="App.vue";var c=l.exports,u=s("8c4f"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home container-fluid"},[s("navigation-bar"),s("div",{staticClass:"row",staticStyle:{"margin-top":"75px"}},t._l(t.keeps,function(t){return s("div",{key:t.id,staticClass:"col-sm-4"},[s("keep",{attrs:{keepData:t}})],1)}))],1)},p=[],h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-toolbar",{attrs:{fixed:"",dark:"",color:"black accent-2"}},[s("v-btn",{attrs:{flat:"",href:"#",icon:""},on:{click:function(e){t.home()}}},[s("v-icon",{attrs:{color:"white",large:""}},[t._v("fas fa-skull")])],1),s("v-spacer"),s("h1",[t._v("KEEPR")]),s("v-spacer"),t.user.id?s("v-toolbar-items",[s("h5",[t._v("Dashboard ")]),s("v-btn",{attrs:{icon:""},on:{click:function(e){t.dashboard()}}},[s("v-icon",[t._v("far fa-user-circle")])],1),s("h5",[t._v("Logout")]),s("v-btn",{attrs:{icon:""},on:{click:function(e){t.logout()}}},[s("v-icon",[t._v("fa-sign-out-alt")])],1)],1):s("v-toolbar-items",[s("v-layout",{attrs:{"full-height":"","align-center":""}},[s("v-btn",{staticClass:"white--text",attrs:{flat:"",round:"",large:""},on:{click:function(e){t.createAccount()}}},[t._v("Login / Create Account")])],1)],1)],1)},m=[],v={name:"navigationBar",data(){return{search:""}},computed:{user(){return this.$store.state.user}},methods:{home(){this.$router.push({name:"home"})},dashboard(){this.$router.push({name:"dashboard"})},logout(){this.$store.dispatch("logout")},createAccount(){this.$store.dispatch("createAccount")}}},f=v,g=(s("5dfc"),Object(n["a"])(f,h,m,!1,null,null,null));g.options.__file="Navbar.vue";var b=g.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"keep card ",staticStyle:{"box-shadow":"3px 3px 3px black","margin-bottom":"2rem"}},[s("div",{staticClass:"top-buttons"},[s("button",{staticClass:"btn button",on:{click:function(e){t.deleteKeep()}}},[s("i",{staticClass:"fa fa-trash"})])]),s("div",{staticClass:"container"},[s("img",{staticClass:"image",attrs:{src:t.keepData.img,alt:""}}),s("div",{staticClass:"overlay"},[s("div",{staticClass:"icon"},[s("button",{staticClass:"btn button",on:{click:function(e){t.view()}}},[s("i",{staticClass:"icon-color far fa-eye"},[t._v(":"+t._s(t.keepData.views))])]),s("button",{staticClass:"btn button",on:{click:function(e){t.share()}}},[s("i",{staticClass:"icon-color fas fa-share-square"},[t._v(":"+t._s(t.keepData.shares))])]),s("button",{staticClass:"btn button",on:{click:function(e){t.showModal()}}},[s("i",{staticClass:"icon-color far fa-save"},[t._v(":"+t._s(t.keepData.keeps))])])])])]),s("div",{staticClass:"modal",attrs:{id:"myModal"+t.keepData.id}},[s("div",{staticClass:"modal-content container-fluid"},[s("span",{staticClass:"close",staticStyle:{color:"white"}},[t._v("Ã—")]),t._m(0),s("div",{staticClass:"modal-body row"},[s("div",{staticClass:"col"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedVaultId,expression:"selectedVaultId"}],staticStyle:{"background-color":"white",height:"30px",color:"black"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.selectedVaultId=e.target.multiple?s:s[0]}}},[s("option",{staticStyle:{color:"black"},attrs:{disabled:"",value:""}},[t._v("Select Vault")]),t._l(t.vaults,function(e){return s("option",{key:e.id,staticStyle:{color:"black"},domProps:{value:e.id}},[t._v("\r\n          "+t._s(e.name)+"\r\n        ")])})],2),s("button",{staticClass:"btn btn-success btn-sm",staticStyle:{height:"30px"},on:{click:function(e){t.save()}}},[t._v("Save")])])])])]),s("h3",{},[t._v(t._s(t.keepData.name))]),s("p",{},[t._v(t._s(t.keepData.description))])])},k=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header row"},[s("div",{staticClass:"col"},[s("h4",[t._v("SAVE KEEP TO VAULT")])])])}],_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vault card",staticStyle:{"box-shadow":"3px 3px 3px black","margin-bottom":"2rem"}},[s("button",{staticClass:"btn",staticStyle:{"background-color":"transparent",height:"3vh",width:"2vw"},on:{click:function(e){t.deleteVault()}}},[s("i",{staticClass:"fa fa-trash"})]),s("h2",[t._v(t._s(t.vaultData.name))]),s("p",[t._v(t._s(t.vaultData.description))])])},y=[],x={name:"vault",props:["vaultData"],mounted(){this.$store.state.user.id||this.$router.push({name:"login"})},methods:{deleteVault(){this.$store.dispatch("deleteVault",this.vaultData.id)}}},C=x,K=(s("eef2"),Object(n["a"])(C,_,y,!1,null,"b79d00b0",null));K.options.__file="Vault.vue";var $=K.exports,V={name:"keep",props:["keepData"],mounted(){this.$store.state.user.id&&this.$store.dispatch("getVaultsByUserId",this.$store.state.user.id)},data(){return{selectedVaultId:""}},computed:{vaults(){return this.$store.state.vaults}},methods:{deleteKeep(){this.$store.dispatch("deleteKeep",this.keepData.id)},view(){this.$store.dispatch("addKeepView",this.keepData.id)},share(){this.$store.dispatch("addKeepShare",this.keepData.id)},save(){this.selectedVaultId&&this.$store.dispatch("addKeepToVault",{keepId:this.keepData.id,vaultId:this.selectedVaultId})},showModal(){var t=document.getElementById("myModal"+this.keepData.id),e=document.getElementsByClassName("close")[this.$store.state.keeps.findIndex(t=>t.id===this.keepData.id)];t.style.display="block",e.onclick=function(){t.style.display="none"},window.onclick=function(e){e.target==t&&(t.style.display="none")}},showAvailableVaults(){}}},S=V,U=(s("7ef7"),Object(n["a"])(S,w,k,!1,null,"23b3eeb8",null));U.options.__file="Keep.vue";var D=U.exports,E={name:"home",props:["browsing"],components:{keep:D,NavigationBar:b},mounted(){this.browsing&&this.$router.dispatch("getKeeps"),this.$store.dispatch("authenticate"),this.$store.dispatch("getKeeps")},data(){return{newKeep:{img:"",name:"",description:""}}},computed:{keeps(){return this.$store.state.keeps}},methods:{addKeep(){this.$store.dispatch("addKeep",this.newKeep),this.newKeep={img:"",name:"",description:""}},logout(){this.$store.dispatch("logout",this.login)}}},I=E,O=(s("cccb"),Object(n["a"])(I,d,p,!1,null,null,null));O.options.__file="Home.vue";var j=O.exports,M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-content",{attrs:{id:"login"}},[s("v-container",{attrs:{"fill-height":""}},[s("v-layout",{attrs:{"justify-center":"","align-center":""}},[s("v-flex",{attrs:{sm8:"",md4:""}},[s("div",{staticClass:"login"},[t.loginForm?s("v-card",[s("v-toolbar",{attrs:{card:"",dark:"",color:"black"}},[s("v-icon",{attrs:{color:"white",large:""}},[t._v("fas fa-skull")]),s("v-toolbar-title",[t._v("Login")]),s("v-spacer"),s("v-btn",{staticClass:"white--text",attrs:{flat:"",round:""},on:{click:function(e){t.loginForm=!t.loginForm}}},[t._v("\n                                sign up\n                            ")])],1),s("form",{on:{submit:function(e){return e.preventDefault(),t.loginUser(e)}}},[s("v-text-field",{staticClass:"field",attrs:{"prepend-icon":"mail",color:"black","single-line":"",placeholder:"email"},model:{value:t.creds.email,callback:function(e){t.$set(t.creds,"email",e)},expression:"creds.email"}}),s("v-text-field",{staticClass:"field",attrs:{type:"password","prepend-icon":"lock",color:"black","single-line":"",placeholder:"password"},model:{value:t.creds.password,callback:function(e){t.$set(t.creds,"password",e)},expression:"creds.password"}}),s("v-btn",{attrs:{type:"submit",color:"grey"}},[t._v("login")])],1)],1):s("v-card",[s("v-toolbar",{attrs:{card:"",color:"black"}},[s("v-icon",{attrs:{color:"white",large:""}},[t._v("fas fa-skull")]),s("v-toolbar-title",[t._v("Create Accout")]),s("v-spacer"),s("v-btn",{staticClass:"white--text",attrs:{flat:"",round:""},on:{click:function(e){t.loginForm=!t.loginForm}}},[t._v("\n                                login\n                            ")])],1),s("form",{on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[s("v-text-field",{staticClass:"field",attrs:{"prepend-icon":"person",color:"black","single-line":"",placeholder:"username"},model:{value:t.newUser.name,callback:function(e){t.$set(t.newUser,"name",e)},expression:"newUser.name"}}),s("v-text-field",{staticClass:"field",attrs:{"prepend-icon":"mail",color:"black","single-line":"",placeholder:"email"},model:{value:t.newUser.email,callback:function(e){t.$set(t.newUser,"email",e)},expression:"newUser.email"}}),s("v-text-field",{staticClass:"field",attrs:{type:"password","prepend-icon":"lock",color:"black","single-line":"",placeholder:"password"},model:{value:t.newUser.password,callback:function(e){t.$set(t.newUser,"password",e)},expression:"newUser.password"}}),s("v-btn",{attrs:{type:"submit",color:"grey"}},[t._v("register")])],1)],1)],1),s("v-layout",[s("router-link",{staticClass:"black--text",attrs:{to:{name:"home",params:{browsing:!0}}}},[t._v("Continue as guest")])],1)],1)],1)],1)],1)},P=[],B={name:"login",mounted(){this.$store.dispatch("authenticate")},data(){return{loginForm:!0,creds:{email:"",password:""},newUser:{email:"",password:"",username:""}}},methods:{register(){this.$store.dispatch("register",this.newUser)},loginUser(){this.$store.dispatch("login",this.creds)}}},A=B,N=Object(n["a"])(A,M,P,!1,null,null,null);N.options.__file="Login.vue";var L=N.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dashboard"},[s("navigation-bar"),s("div",{staticClass:"row",staticStyle:{"margin-top":"75px"}},[s("div",{staticClass:"card col-sm-5 offset-1",staticStyle:{"box-shadow":"3px 3px 3px black","margin-bottom":"2rem"}},[s("h3",[t._v("Create a Keep")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.addKeep(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newKeep.name,expression:"newKeep.name"}],attrs:{type:"text",placeholder:"title",required:""},domProps:{value:t.newKeep.name},on:{input:function(e){e.target.composing||t.$set(t.newKeep,"name",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newKeep.description,expression:"newKeep.description"}],attrs:{type:"text",placeholder:"description"},domProps:{value:t.newKeep.description},on:{input:function(e){e.target.composing||t.$set(t.newKeep,"description",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newKeep.img,expression:"newKeep.img"}],attrs:{type:"url",placeholder:"Image Link"},domProps:{value:t.newKeep.img},on:{input:function(e){e.target.composing||t.$set(t.newKeep,"img",e.target.value)}}}),s("button",{staticClass:"btn btn-success",staticStyle:{height:"3vh",width:"10vw",color:"black"},attrs:{type:"submit"}},[t._v("Post Keep")])])]),s("div",{staticClass:"card col-sm-5",staticStyle:{"box-shadow":"3px 3px 3px black","margin-bottom":"2rem"}},[s("h3",[t._v("Create a Vault")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.addVault(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newVault.name,expression:"newVault.name"}],attrs:{type:"text",placeholder:"title",required:""},domProps:{value:t.newVault.name},on:{input:function(e){e.target.composing||t.$set(t.newVault,"name",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newVault.description,expression:"newVault.description"}],attrs:{type:"text",placeholder:"description"},domProps:{value:t.newVault.description},on:{input:function(e){e.target.composing||t.$set(t.newVault,"description",e.target.value)}}}),s("button",{staticClass:"btn btn-success",staticStyle:{height:"3vh",width:"10vw",color:"black"},attrs:{type:"submit"}},[t._v("Create Vault")])])])]),t._m(0),s("div",{staticClass:"row",staticStyle:{"margin-top":"15px"}},t._l(t.vaults,function(e){return s("div",{key:e.id,staticClass:"col-sm-4",on:{click:function(s){t.selectVault(e.id)}}},[s("vault",{attrs:{vaultData:e}})],1)})),t.showMyKeeps?s("div",[t._m(1),s("div",{staticClass:"row",staticStyle:{"margin-top":"15px"}},t._l(t.keeps,function(t){return s("div",{key:t.id,staticClass:"col-sm-4"},[s("keep",{attrs:{keepData:t}})],1)}))]):s("div",[t._m(2),s("div",{staticClass:"row",staticStyle:{"margin-top":"15px"}},t._l(t.selectedVaultKeeps,function(t){return s("div",{key:t.id,staticClass:"col-sm-4"},[s("keep",{attrs:{keepData:t}})],1)}))])],1)},T=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row",staticStyle:{"margin-top":"75px"}},[s("div",{staticClass:"col"},[s("h2",[t._v("User Vaults")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row",staticStyle:{"margin-top":"75px"}},[s("div",{staticClass:"col"},[s("h2",[t._v("User Keeps")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row",staticStyle:{"margin-top":"75px"}},[s("div",{staticClass:"col"},[s("h2",[t._v("Vault Keeps")])])])}],q={name:"dashboard",components:{keep:D,vault:$,NavigationBar:b},mounted(){this.$store.state.user.id||this.$router.push({name:"login"}),this.$store.dispatch("getVaultsByUserId",this.$store.state.user.id),this.$store.dispatch("getKeepsByUserId",this.$store.state.user.id)},data(){return{newKeep:{img:"",name:"",description:""},newVault:{name:"",description:""}}},computed:{showMyKeeps(){return this.$store.state.showMyKeeps},keeps(){return this.$store.state.keeps},vaults(){return this.$store.state.vaults},selectedVaultKeeps(){return this.$store.state.selectedVaultkeeps}},methods:{addKeep(){this.$store.dispatch("addKeep",this.newKeep),this.newKeep={img:"",name:"",description:""}},selectVault(t){this.$store.dispatch("getVaultKeeps",t)},addVault(){this.$store.dispatch("addVault",this.newVault),this.newVault={name:"",description:""}},logout(){this.$store.dispatch("logout",this.login)}}},R=q,J=(s("2b56"),Object(n["a"])(R,F,T,!1,null,null,null));J.options.__file="Dashboard.vue";var H=J.exports;a["default"].use(u["a"]);var z=new u["a"]({routes:[{path:"/",name:"home",component:j},{path:"/login",name:"login",component:L},{path:"/dashboard",name:"dashboard",component:H}]}),G=s("2f62"),Q=s("bc3a"),W=s.n(Q);a["default"].use(G["a"]);let X=W.a.create({baseURL:"//localhost:5000/account/",timeout:3e3,withCredentials:!0}),Y=W.a.create({baseURL:"//localhost:5000/api/",timeout:3e3,withCredentials:!0});var Z=new G["a"].Store({state:{user:{},keeps:[],vaults:[],selectedVaultkeeps:[],showMyKeeps:!0},mutations:{setUser(t,e){t.user=e},setKeeps(t,e){t.keeps=e},setVaults(t,e){t.vaults=e},showMyKeeps(t,e){t.showMyKeeps=e,t.showMyKeeps=!0},selectedVaultkeeps(t,e){t.selectedVaultkeeps=e,t.showMyKeeps=!1}},actions:{register({commit:t,dispatch:e},s){X.post("register",s).then(e=>{t("setUser",e.data),z.push({name:"home"})}).catch(t=>{console.log("[registration failed] :",t)})},authenticate({commit:t,dispatch:e}){X.get("authenticate").then(e=>{t("setUser",e.data),z.push({name:"home"})}).catch(t=>{console.log("not authenticated")})},login({commit:t,dispatch:e},s){X.post("login",s).then(e=>{t("setUser",e.data),z.push({name:"home"})}).catch(t=>{console.log("Login Failed")})},logout({commit:t,dispatch:e}){X.delete("logout").then(e=>{t("setUser",{}),z.push({name:"login"})})},createAccount({commit:t,dispatch:e}){X.delete("logout").then(e=>{t("setUser",{}),z.push({name:"login"})})},getKeeps({commit:t,dispatch:e}){Y.get("keeps").then(e=>{t("setKeeps",e.data)}).catch(t=>{console.log(t)})},getKeepsByUserId({commit:t,dispatch:e},s){Y.get("keeps/byuser/"+s).then(e=>{t("setKeeps",e.data)}).catch(t=>{console.log(t)})},addKeep({commit:t,dispatch:e},s){Y.post("keeps",s).then(t=>{e("getKeeps")})},addKeepView({commit:t,dispatch:e},s){Y.get(`keeps/${s}/addView`).then(t=>{e("getKeeps")})},addKeepShare({commit:t,dispatch:e},s){Y.get(`keeps/${s}/addShare`).then(t=>{e("getKeeps")})},deleteKeep({commit:t,dispatch:e},s){Y.delete("keeps/"+s).then(t=>{e("getKeeps")}).catch(t=>{console.log("error:",t)})},getVaults({commit:t,dispatch:e},s){Y.get("vaults").then(e=>{t("setVaults",e.data)}).catch(t=>{console.log(t)})},getVaultKeeps({commit:t,dispatch:e},s){Y.get(`vaults/${s}/keeps`).then(e=>{console.log(e.data),t("selectedVaultkeeps",e.data)}).catch(console.error)},getVaultsByUserId({commit:t,dispatch:e},s){Y.get("vaults/byuser/"+s).then(e=>{t("setVaults",e.data)}).catch(t=>{console.log(t)})},addVault({commit:t,dispatch:e},s){Y.post("vaults",s).then(t=>{e("getVaultsByUserId")})},addKeepToVault({commit:t,dispatch:e},s){Y.post("vaultkeep",s).catch(t=>{console.log("error:",t)})},deleteVault({commit:t,dispatch:e},s){Y.delete("vaults/"+s).then(t=>{e("getVaultsByUserId")}).catch(t=>{console.log("error:",t)})}}}),tt=s("ce5b"),et=s.n(tt);s("bf40");a["default"].use(et.a),a["default"].config.productionTip=!1,new a["default"]({router:z,store:Z,render:t=>t(c)}).$mount("#app")},"5dfc":function(t,e,s){"use strict";var a=s("6dfb"),o=s.n(a);o.a},"6dfb":function(t,e,s){},"7b89":function(t,e,s){},"7ef7":function(t,e,s){"use strict";var a=s("0399"),o=s.n(a);o.a},"8f59":function(t,e,s){},c21b:function(t,e,s){},cccb:function(t,e,s){"use strict";var a=s("8f59"),o=s.n(a);o.a},eef2:function(t,e,s){"use strict";var a=s("7b89"),o=s.n(a);o.a}});
//# sourceMappingURL=app.ae4a6482.js.map